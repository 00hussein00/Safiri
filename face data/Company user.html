<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Company Data Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
        }

        h1 {
            color: #333;
            text-align: center;
        }

        input, button {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #companyDataList {
            padding: 20px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }

        .companyDiv {
            background-color: #ffffff;
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .companyCount {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 20px;
        }

        .companyInfo {
            font-size: 16px;
            margin: 10px 0;
        }

        .deleteButton {
            background-color: #ff3333;
            color: #fff;
            padding: 10px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 14px;
        }

        .deleteAllButton {
            background-color: #ff3333;
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        #generateRandomCompaniesButton, #showAllDataButton, #deleteCompanyButton, #createRandomUsersButton {
            background-color: #007bff;
            color: #fff;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }

        #generateRandomCompaniesButton:hover, #showAllDataButton:hover, #deleteCompanyButton:hover, #createRandomUsersButton:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Company Data</h1>
        <input type="text" id="inCompanyName" placeholder="Company Name" style="display: none;">
        <input type="text" id="inCompanyEmail" placeholder="Company Email"style="display: none;">
        <input type="text" id="inCompanyPhone" placeholder="Company Phone"style="display: none;">
        <input type="text" id="inCompanyDescription" placeholder="Company Description"style="display: none;">
        <input type="text" id="inCompanyLocation" placeholder="Company Location"style="display: none;">
        <input type="text" id="inCompanyPassword" placeholder="Company Password"style="display: none;">
        <button id="saveCompanyDataButton"style="display: none;">Save Company Data</button>
        <div id="companyDataList">
            <h2>Company Data</h2>
            <p class="companyCount">Number of Companies: <span id="companyCount">0</span></p>
            <div id="companyList"></div>
        </div>
        <button id="generateRandomCompaniesButton">Generate 10 Random Companies</button>
        <button id="showAllDataButton">Show All Data</button>
        <input type="text" id="deleteCompanyInput" placeholder="Enter Company ID to Delete">
        <button id="deleteCompanyButton">Delete Company</button>
        <input type="number" id="createRandomUsersInput" placeholder="Enter the number of new users">
        <button id="createRandomUsersButton">Create New Users</button>
        <button class="deleteAllButton" id="deleteAllDataButton">Delete All Data</button>
    </div>

    <script>
        // Function to generate a random Company ID with length between 11 and 16 characters
        function generateRandomCompanyID() {
            var length = Math.floor(11 + Math.random() * 6); // Generates a random length between 11 and 16
            var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            var result = '';
            for (var i = 0; i < length; i++) {
                result += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return result;
        }

        // Function to get a random item from an array
        function getRandomArrayItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        // Function to generate random company data
        function generateRandomCompanyData() {
            var firstNames = ["conta", "banta", "seta", "alage", "carmes", "Grace", "ahmad", "Hussein", "Mohammad", "Y", "XXM", "SSS", "T", "Msega", "mali", "Jo", "James", "Sue", "alive", "see"];
            var lastNames = ["smashw", "K", "hmansia", "J", "dahiha", "MMAT", "smashe", "saw", "Moon", "Taylor", "M", "smash", "Jeny", "whight", "AI", "web", "pool", "market", "shop", "resstorant"];
            var companyNames = firstNames.map((firstName, index) => `${firstName}_${lastNames[index]}`);
            var countries = ["Jordan", "UK", "US", "Iraq", "qatar", "morroco", "Algerya", "egypt", "SA", "Syria", "Lebanon", "Mauritania", "Tunisia", "Oman", "Djibouti"];
            var locations = ["A", "B", "C", "D", "E", "F", "G", "H", "D", "W", "M", "N", "O", "Z", "X"];
            var images = ["image1.jpg", "image2.jpg", "image3.jpg", "image4.jpg", "image5.jpg"];
            var descriptions = [
                "A leading company in the industry.",
                "Providing innovative solutions for businesses.",
                "Committed to excellence and customer satisfaction.",
                "Your partner for success.",
                "Delivering quality products and services.",
                "Empowering businesses through technology.",
                "Dedicated to creating a better future.",
                "Building strong connections with our clients.",
                "Striving for continuous improvement.",
                "Passionate about delivering value.",
                "Driven by a vision for a brighter tomorrow.",
                "Your trusted business ally.",
                "Exceeding expectations, every time.",
                "Innovating for a sustainable future.",
                "Committed to environmental responsibility."
            ];

            var ranName = getRandomArrayItem(companyNames) ;
            var companyData = {
                cname: ranName,
                cID: generateRandomCompanyID(),
                cEmail: ranName + Math.floor(Math.random() * 100) + "@gmail.com",
                cPhone: Math.floor(1000000000 + Math.random() * 9000000000).toString(), // Random 10-digit phone number
                cCountry: getRandomArrayItem(countries),
                cLocation: getRandomArrayItem(locations),
                cPassword: "Password " + Math.floor(Math.random() * 100),
                cDescription: getRandomArrayItem(descriptions),
                image: getRandomArrayItem(images),
                Verified:  Math.floor(Math.random() * 100) + "%",
            };
            return companyData;
        }

        // Function to save company data to local storage
        function saveCompanyData() {
            var inCompanyName = document.getElementById('inCompanyName');
            var cID = generateRandomCompanyID(); // Generate a random Company ID
            var cEmail = document.getElementById('inCompanyEmail').value;
            var cPhone = document.getElementById('inCompanyPhone').value;
            var cDescription = document.getElementById('inCompanyDescription').value;
            var cPassword = document.getElementById('inCompanyPassword').value;

            var CompanyData = {
                cname: inCompanyName.value,
                cID: cID,
                cEmail: cEmail,
                cPhone: cPhone,
                cCountry: getRandomArrayItem(countries),
                cLocation: getRandomArrayItem(locations),
                cPassword: cPassword,
                cDescription: cDescription,
                image: '',
                Verified: 0,
            };

            // Retrieve the existing dataCompany from local storage or create an empty object
            var dataCompany = JSON.parse(localStorage.getItem('dataCompany')) || {};

            // Index subarray by ID in the dataCompany
            dataCompany[cID] = CompanyData;

            // Store the updated dataCompany in localStorage
            localStorage.setItem('dataCompany', JSON.stringify(dataCompany));

            inCompanyName.value = '';
            inCompanyEmail.value = '';
            inCompanyPhone.value = '';
            inCompanyDescription.value = '';
            inCompanyLocation.value = '';
            inCompanyPassword.value = '';

            displayCompanyData(); // Update the displayed data
        }

        // Function to display saved company data
        function displayCompanyData() {
            var companyList = document.getElementById('companyList');
            var companyCount = document.getElementById('companyCount');
            var dataCompany = JSON.parse(localStorage.getItem('dataCompany'));
            var count = 0;

            if (dataCompany) {
                companyList.innerHTML = ''; // Clear the previous list

                for (var cID in dataCompany) {
                    var company = dataCompany[cID];
                    var companyDiv = document.createElement('div');
                    companyDiv.className = 'companyDiv';
                    companyDiv.innerHTML = `
                        <div class="companyCount">Company ${count + 1}</div>
                        <p class="companyInfo"><strong>Company Name:</strong> ${company.cname}</p>
                        <p class="companyInfo"><strong>Company ID:</strong> ${company.cID}</p>
                        <p class="companyInfo"><strong>Company Email:</strong> ${company.cEmail}</p>
                        <p class="companyInfo"><strong>Company Phone:</strong> ${company.cPhone}</p>
                        <p class="companyInfo"><strong>Company Description:</strong> ${company.cDescription}</p>
                        <p class="companyInfo"><strong>Company Country:</strong> ${company.cCountry}</p>
                        <p class="companyInfo"><strong>Company Location:</strong> ${company.cLocation}</p>
                        <p class="companyInfo"><strong>Company Password:</strong> ${company.cPassword}</p>
                        <p class="companyInfo"><strong>Company Image:</strong> ${company.image}</p>
                        <p class="companyInfo"><strong>Company Verified:</strong> ${company.Verified}</p>
                        <button class="deleteButton" data-companyid="${company.cID}">Delete</button>
                    `;
                    companyList.appendChild(companyDiv);
                    count++;
                }

                companyCount.textContent = count;
            }
        }

        displayCompanyData(); // Initial display of saved company data

        document.getElementById('saveCompanyDataButton').addEventListener('click', function () {
            saveCompanyData();
        });

        document.getElementById('generateRandomCompaniesButton').addEventListener('click', function () {
            for (var i = 0; i < 10; i++) {
                var companyData = generateRandomCompanyData();
                var dataCompany = JSON.parse(localStorage.getItem('dataCompany')) || {};
                dataCompany[companyData.cID] = companyData;
                localStorage.setItem('dataCompany', JSON.stringify(dataCompany));
            }
            displayCompanyData(); // Update the displayed data after generating random companies
        });

        // Add event delegation for delete buttons
        companyList.addEventListener('click', function (event) {
            if (event.target && event.target.classList.contains('deleteButton')) {
                var companyIDToDelete = event.target.getAttribute('data-companyid');
                var dataCompany = JSON.parse(localStorage.getItem('dataCompany'));

                if (dataCompany && dataCompany[companyIDToDelete]) {
                    delete dataCompany[companyIDToDelete];
                    localStorage.setItem('dataCompany', JSON.stringify(dataCompany));
                    displayCompanyData();
                }
            }
        });

        // Show All Data button functionality
        document.getElementById('showAllDataButton').addEventListener('click', function () {
            displayCompanyData();
        });

        // Delete Company button functionality
        document.getElementById('deleteCompanyButton').addEventListener('click', function () {
            var deleteCompanyInput = document.getElementById('deleteCompanyInput');
            var companyIDToDelete = deleteCompanyInput.value;
            var dataCompany = JSON.parse(localStorage.getItem('dataCompany'));

            if (companyIDToDelete && dataCompany && dataCompany[companyIDToDelete]) {
                delete dataCompany[companyIDToDelete];
                localStorage.setItem('dataCompany', JSON.stringify(dataCompany));
                displayCompanyData();
                deleteCompanyInput.value = '';
            }
        });

        // Delete All Data button functionality
        document.getElementById('deleteAllDataButton').addEventListener('click', function () {
            localStorage.removeItem('dataCompany');
            displayCompanyData();
        });

        // Function to create a specified number of random users
        function createRandomUsers() {
            var numUsersInput = document.getElementById('createRandomUsersInput');
            var numUsers = parseInt(numUsersInput.value, 10);

            if (!isNaN(numUsers) && numUsers > 0) {
                for (var i = 0; i < numUsers; i++) {
                    var companyData = generateRandomCompanyData();
                    var dataCompany = JSON.parse(localStorage.getItem('dataCompany')) || {};
                    dataCompany[companyData.cID] = companyData;
                    localStorage.setItem('dataCompany', JSON.stringify(dataCompany));
                }
                displayCompanyData(); // Update the displayed data after generating new users
                numUsersInput.value = '';
            } else {
                alert('Please enter a valid number of users to create.');
            }
        }

        // Add event listener for the "Create New Users" button
        document.getElementById('createRandomUsersButton').addEventListener('click', function () {
            createRandomUsers();
        });
    </script>
</body>
</html>
